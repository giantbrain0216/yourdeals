@page "/RegisterWithFacebook/{AccessToken}/{Email}/{FirstName}/{LastName}"
@inherits MvvmBlazor.Components.MvvmComponentBase<LoginVM>
@using System.Web

@using NPComplet.YourDeals.Client.Shared.ViewModels.Identity
@using NPComplet.YourDeals.Domain.Shared.DataTransferObjects.ExternalLogins

<div class="card">
    <h4 class="card-header">Complete your registration with Facebook</h4>
    <div class="card-body">
        <EditForm Model="@BindingContext.ValidateFacebookAccessTokenDto" OnValidSubmit="@(async () => await BindingContext.ExecuteRegisterWithFacebook(BindingContext.OnRegisterWithFacebook))">
            <DataAnnotationsValidator />
            <div class="form-group">
                <label>First name</label>
                <InputText @bind-Value="BindingContext.ValidateFacebookAccessTokenDto.FirstName" class="form-control" />
                <ValidationMessage For="@(() => BindingContext.ValidateFacebookAccessTokenDto.FirstName)" />
            </div>
            <div class="form-group">
                <label>Last name</label>
                <InputText @bind-Value="BindingContext.ValidateFacebookAccessTokenDto.LastName" class="form-control" />
                <ValidationMessage For="@(() => BindingContext.ValidateFacebookAccessTokenDto.LastName)" />
            </div>
            <div class="form-group">
                <label>Email</label>
                <InputText @bind-Value="BindingContext.ValidateFacebookAccessTokenDto.Email" class="form-control" />
                <ValidationMessage For="@(() => BindingContext.ValidateFacebookAccessTokenDto.Email)" />
            </div>
            <div class="form-group">
                <label>Password</label>
                <InputText @bind-Value="BindingContext.ValidateFacebookAccessTokenDto.Password" type="password" class="form-control" />
                <ValidationMessage For="@(() => BindingContext.ValidateFacebookAccessTokenDto.Password)" />
            </div>
            <div class="form-group">
                <label>Confirm password</label>
                <InputText @bind-Value="BindingContext.ValidateFacebookAccessTokenDto.ConfirmPassword" type="password" class="form-control" />
                <ValidationMessage For="@(() => BindingContext.ValidateFacebookAccessTokenDto.ConfirmPassword)" />
            </div>
            <button disabled="@BindingContext.Loading" class="btn btn-primary">
                @if (BindingContext.Loading)
                {
                    <span class="spinner-border spinner-border-sm mr-1"></span>
                }
                Register
            </button>
        </EditForm>
    </div>
</div>

@code {


   

   
}
